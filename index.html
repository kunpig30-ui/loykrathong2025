<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>‡∏•‡∏≠‡∏¢‡∏Å‡∏£‡∏∞‡∏ó‡∏á‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå ¬∑ ‡∏õ‡∏•‡∏≠‡∏î‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà</title>
  <style>
    :root{ --hdr:72px; --bg-shift:-18px; }
    *{ box-sizing:border-box; margin:0; padding:0 }
    html,body{ height:100%; background:#081522; color:#e9f0ff; font-family:system-ui,"TH Sarabun New",Prompt,sans-serif; overflow:hidden }

    /* ===== TOP BAR (input + ‡∏õ‡∏•‡πà‡∏≠‡∏¢ + ‡πÄ‡∏û‡∏•‡∏á + ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ + CSV) ===== */
    header{
      position:fixed; inset:0 0 auto 0; height:var(--hdr);
      display:flex; align-items:center; justify-content:center;
      padding:8px 10px; gap:10px; z-index:8;
      background:linear-gradient(to bottom,rgba(3,12,24,.96),rgba(3,12,24,.86));
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    #topWrap{ width:min(1100px,100%); display:flex; gap:8px; align-items:center; }
    #wish{ flex:1 1 auto; min-width:160px; padding:10px 12px; border-radius:12px; border:0; outline:0; color:#0c1424 }
    .btn{ padding:10px 14px; border-radius:12px; border:0; font-weight:700; cursor:pointer }
    .green{ background:#2e7d32; color:#fff }
    .blue{ background:#1e88e5; color:#fff }
    .red{ background:#e53935; color:#fff }

    /* ===== STAGE (‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á + ‡πÅ‡∏Ñ‡∏ô‡∏ß‡∏≤‡∏™) ===== */
    #stage{ position:absolute; inset:var(--hdr) 0 0 0; overflow:hidden }
    #bgLayer{ position:absolute; inset:0; width:100%; height:100%; object-fit:contain; object-position:center top; transform:translateY(var(--bg-shift)) }
    @media (max-width:640px){ :root{ --hdr:68px; --bg-shift:-24px } #bgLayer{ object-fit:contain } }
    #scene{ position:absolute; inset:0; width:100%; height:100% }

    /* ===== ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏©‡∏ê‡∏≤‡∏ô (‡∏•‡πà‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢ ‡πÇ‡∏õ‡∏£‡πà‡∏á ‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡πÄ‡∏£‡∏∑‡∏≠) ===== */
    #wishList{
      position:absolute; left:10px; bottom:10px; z-index:7;
      max-height:28vh; width:min(340px,90vw);
      overflow:auto; padding:8px 10px 10px; border-radius:12px;
      background:rgba(6,12,20,.55); border:1px solid rgba(255,255,255,.12)
    }
    #wishList li{ list-style:none; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; line-height:1.4; font-size:14px }

    /* Toast */
    #toast{ position:fixed; left:50%; top:calc(var(--hdr) + 8px); translate:-50% 0; z-index:9;
      padding:10px 14px; background:#0e1726; border:1px solid rgba(255,255,255,.25); border-radius:14px; opacity:0; transition:opacity .22s }
    #toast.show{ opacity:1 }
  </style>
</head>
<body>
  <!-- TOP -->
  <header>
    <div id="topWrap">
      <input id="wish" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏©‡∏ê‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì..." />
      <button id="launch" class="btn green">‡∏õ‡∏•‡πà‡∏≠‡∏¢</button>
      <button id="toggleMusic" class="btn blue">‚ñ∂Ô∏è/‚è∏ ‡πÄ‡∏û‡∏•‡∏á</button>
      <button class="btn red">‡∏•‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß <span id="statCount">0</span> ‡πÉ‡∏ö</button>
      <button id="exportStat" class="btn blue">‚¨áÔ∏è CSV ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</button>
    </div>
  </header>

  <!-- ‡∏â‡∏≤‡∏Å -->
  <div id="stage">
    <!-- ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÉ‡∏ä‡πâ bg5mb.png, ‡πÄ‡∏î‡∏™‡∏Å‡πå‡∏ó‡πá‡∏≠‡∏õ‡πÉ‡∏ä‡πâ bg5.png -->
    <picture id="bgPicture">
      <source media="(max-width: 640px)" srcset="images/bg5mb.png" />
      <img id="bgLayer" src="images/bg5.png" alt="background" />
    </picture>
    <canvas id="scene"></canvas>
    <ul id="wishList"></ul>
  </div>

  <!-- ‡πÄ‡∏™‡∏µ‡∏¢‡∏á -->
  <audio id="bgm" preload="auto" loop src="audio/song.mp3"></audio>
  <div id="toast">‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß üéÜ</div>

  <script src="main.js?v=12.3" defer></script>
</body>
</html>
